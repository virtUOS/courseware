@import './mixins';

.discussion-thread() {

  article.thread {

    margin-left:  -4px;
    margin-right: -4px;

    header a {
      width: 100%;
    }

    ul.comments {
      background-color: #e7ebf1;
      list-style-type: none;

      padding-left: 0px;


      > li {
        border-top: thin solid #a9b6cb;
        padding: 7px;
        margin: 0px;

        &:first-child {
          border: none;
        }
      }

      .avatar_column {
        vertical-align: top;
        padding: 5px;
        width: 55px;
        max-width: 55px;
        overflow: hidden;
        text-align: center;
        display: table-cell;
      }

      .avatar, .content {
        vertical-align: middle;
        display: inline-block;
      }

      .avatar_image {
        margin-left: auto;
        margin-right: auto;
        width: 50px;
        height: 50px;
        background-size: 100%;
        background-repeat: no-repeat;
        background-position: center center;
      }

      .content_column {
        display: table-cell;
        padding: 5px;
        width: 100%;

        .timer {
          float: right;
          color: #bbbbbb;
          font-size: 0.8em;

          a,
          a:hover {
            color: #606060;
          }
        }

        > .name {
          color: #888888;
          font-weight: bold;
          font-size: 0.8em;

          a {
            color: #888888;
          }
        }

        > .content {
          max-width: 450px;
        }

        // these links are autogenerated but not in use as of now
        a.edit {
          display: none;
        }
      }
    }

    .comment-writer {
      padding-top: 1em;
      padding-bottom: 1.5em;
      padding-left: 5px;
      padding-right: 5px;

      textarea {
        box-sizing: border-box;
        width: 100%;

        min-height: 2em;
        max-heigth: 6em;
      }
    }

    // remove link outline
    a:focus, a:active {
      outline:0;
    }

    &.loading {

      h1 {
        .ajax-indicator-bg-icon();
        background-position: left;
        background-repeat: no-repeat;
        padding-left: 20px !important;
        opacity: 0.5;
      }

      .comment-writer {
        display: none;
      }
    }
  }

  // toggle comments on expanding/collapsing thread in a contentbox
  // TODO: this is included in children of contentbox and does not work
  .contentbox article.thread {
    .comments, .comment-writer {
      display: none;
    }

    &.open {
      .comments, .comment-writer {
        display: block;
      }
    }
  }
}
